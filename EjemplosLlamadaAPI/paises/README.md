**Ejemplo llamada a API para buscar con input**


Para buscar en un campo con uso de input y onChange. Y de button y onClick.
También sirve de ejemplo para buscar en una llamada a API especificando en el link

1. Crear componente normal
2. Crear llamada a API en una const dentro del componente
```javascript
const llamadaAPI = async (nombrePais) => {
        const url = `https://restcountries.com/v3.1/name/${nombrePais}?fullText=true`;
        const llamada = await fetch(url);
        const datos = await llamada.json();
        setDatosAPI(datos[0].capital[0])
    }
```
3. Llamar dentro del componente a la función llamadaAPI()
Le pasamos por parámetro el nombre que queramos buscar
```javascript
const llamadaAPI = async (nombrePais) => {
        const url = `https://restcountries.com/v3.1/name/${nombrePais}?fullText=true`;
        const llamada = await fetch(url);
        const datos = await llamada.json();
        console.log(datos[0].capital[0])
    }
llamadaAPI("nombrePais");
```
4. Guardar datos en un useState: Crear useState y pasarle los datos dentro de la función llamadaAPI
```javascript
    const [datosAPI, setDatosAPI] = useState("sin datos")

    const llamadaAPI = async (nombrePais) => {
        const url = `https://restcountries.com/v3.1/name/${nombrePais}?fullText=true`;
        const llamada = await fetch(url);
        const datos = await llamada.json();
        setDatosAPI(datos[0].capital[0])
    }
```
5. Especificar en el return los datos que voy a sacar y los campos de imput y de enviar para hacer la llamada.
```javascript
  return (
    <>
    {datosAPI}
    <br></br>
    <input onChange={(e)=>{setNombrePais(e.target.value)}}></input>
    <br></br>
    <button onClick={()=>{llamadaAPI(nombrePais)}}>Clic</button>
    </>
    
  )
```
6. No olvidar mostrar el componente. En index.js (en este caso)
```javascript
import Head from 'next/head'
import { Inter } from 'next/font/google'
import styles from '@/styles/Home.module.css'
import Pais from '@/components/Pais'

const inter = Inter({ subsets: ['latin'] })

export default function Home() {
  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className={`${styles.main} ${inter.className}`}>
        <Pais></Pais>
      </main>
    </>
  )
}
```
**Código completo:**
```javascript
import React, {useState} from 'react'

const Pais = () => {

    const [nombrePais, setNombrePais] = useState("spain")
    const [datosAPI, setDatosAPI] = useState("sin datos")

    const llamadaAPI = async (nombrePais) => {
        const url = `https://restcountries.com/v3.1/name/${nombrePais}?fullText=true`;
        const llamada = await fetch(url);
        const datos = await llamada.json();
        setDatosAPI(datos[0].capital[0])
    }

  return (
    <>
    {datosAPI}
    <br></br>
    <input onChange={(e)=>{setNombrePais(e.target.value)}}></input>
    <br></br>
    <button onClick={()=>{llamadaAPI(nombrePais)}}>Clic</button>
    </>
    
  )
}

export default Pais
```
